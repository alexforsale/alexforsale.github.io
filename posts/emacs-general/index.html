<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Emacs general.el | alexforsale.github.io</title>
<meta name=keywords content="emacs,configuration,general,keybindings,keyboard"><meta name=description content="More convenient key definitions in emacs"><meta name=author content="Kristian Alexander P"><link rel=canonical href=https://alexforsale.github.io/posts/emacs-general/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://alexforsale.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://alexforsale.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://alexforsale.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://alexforsale.github.io/apple-touch-icon.png><link rel=mask-icon href=https://alexforsale.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://alexforsale.github.io/posts/emacs-general/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Emacs general.el"><meta property="og:description" content="More convenient key definitions in emacs"><meta property="og:type" content="article"><meta property="og:url" content="https://alexforsale.github.io/posts/emacs-general/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-24T00:00:00+00:00"><meta property="article:modified_time" content="2024-02-29T03:59:35+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Emacs general.el"><meta name=twitter:description content="More convenient key definitions in emacs"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://alexforsale.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Emacs general.el","item":"https://alexforsale.github.io/posts/emacs-general/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Emacs general.el","name":"Emacs general.el","description":"More convenient key definitions in emacs","keywords":["emacs","configuration","general","keybindings","keyboard"],"articleBody":"About general.el provides a more convenient method for binding keys in emacs (for both evil and non-evil users). Like use-package, which provides a convenient, unified interface for managing packages, general.el is intended to provide a convenient, unified interface for key definitions. While this package does implement some completely new functionality (such as the ability to make vim-style keybindings under non-prefix keys with an optional timeout), its primary purpose is to build on existing functionality to make key definition more clear and concise. general-define-key is user-extensible and supports defining multiple keys in multiple keymaps at once, implicitly wrapping key strings with (kbd ...), using named prefix key sequences (like the leader key in vim), and much more1.\nInstalling with use-package (use-package general :ensure t :init (with-eval-after-load 'evil (general-evil-setup)) (general-auto-unbind-keys) :config (general-override-mode) (general-create-definer +config/leader-key :keymaps 'override :states '(insert emacs normal hybrid motion visual operator) :prefix \"SPC\" :non-normal-prefix \"s-SPC\") (general-create-definer +config/local-leader :keymaps 'override :states '(emacs normal hybrid motion visual operator) :prefix \"m\" :non-normal-prefix \"s-m\" \"\" '(:ignore t :which-key (lambda (arg) `(,(cadr (split-string (car arg) \" \")) . ,(replace-regexp-in-string \"-mode$\" \"\" (symbol-name major-mode))))))) Notes: general-create-definer is a helper macro to create wrapper for general-def. Here I create two wrapper, +config/leader-key and +config/local-leader. The first with SPC as a prefix, the latter with m To create a keybinding with +config/leader-key: (+config/leader-key \";\" 'pp-eval-expression \":\" 'execute-extended-command \".\" '(find-file :wk \"find file\") \"^\" '(subword-capitalize :wk \"Capitalize subword\") \"u\" 'universal-argument) Pressing SPC ; in normal mode, will execute pp-eval-expression, and so on.\nAs for +config/local-leader: (with-eval-after-load 'ansible (+config/local-leader :keymaps 'yaml-mode-map \"a\" '(:ignore t :wk ansible) \"ad\" 'ansible-decrypt-buffer \"ae\" 'ansible-encrypt-buffer)) Pressing m a d while in normal mode while in a yaml-mode buffer (ex. editing a yaml file) will execute ansible-decrypt-buffer\nUseful macro (defmacro +config/leader-menu! (name infix-key \u0026rest body) \"Create a definer NAME `+config/leader-NAME' wrapping `+config/leader-key'. Create prefix map: `+config/leader-NAME-map'. Prefix bindings in BODY with INFIX-KEY.\" (declare (indent 2)) `(progn (general-create-definer ,(intern (concat \"+config/leader-\" name)) :wrapping +config/leader-key :prefix-map (quote ,(intern (concat \"+config/leader-\" name \"-map\"))) :infix ,infix-key :wk-full-keys nil \"\" '(:ignore t :which-key ,name)) (,(intern (concat \"+config/leader-\" name)) ,@body))) This is a macro for creating a wrapper for each sub menu. For example:\n(+config/leader-menu! \"buffer\" \"b\") will create a keymap with the name +config/leader-buffer-map, to add keybinding into it:\n(+config/leader-buffer \"[\" '(previous-buffer :wk \"previous buffer\") \"]\" '(next-buffer :wk \"next buffer\") \"TAB\" '((lambda () (interactive) (switch-to-buffer nil)) :wk \"other-buffer\") \"b\" '(switch-to-buffer :wk \"switch to buffer\") \"s\" '(basic-save-buffer :wk \"save buffer\") \"c\" '(clone-indirect-buffer :wk \"clone buffer\") \"C\" '(clone-indirect-buffer-other-window :wk \"clone buffer other window\") \"d\" '(kill-current-buffer :wk \"kill current buffer\") \"i\" 'ibuffer \"k\" '(kill-buffer :wk \"kill buffer\") \"l\" '(evil-switch-to-windows-last-buffer :wk \"Switch to last open buffer\") \"m\" '((lambda () (interactive) (switch-to-buffer \"*Messages*\")) :wk \"switch to messages buffer\") \"n\" '(next-buffer :wk \"next buffer\") \"N\" '(evil-buffer-new :wk \"New unnamed buffer\") \"p\" '(previous-buffer :wk \"previous buffer\") \"o\" '((lambda () (interactive) (switch-to-buffer nil)) :wk \"other-buffer\") \"r\" '(revert-buffer-quick :wk \"revert buffer\") \"R\" '(rename-buffer :wk \"rename buffer\") \"x\" '((lambda () (interactive) (switch-to-buffer \"*scratch*\")) :wk \"switch to scratch buffer\") \"z\" '(bury-buffer :wk \"bury buffer\")) Pressing SPC b b will execute switch-to-buffer.\nSimulating key (+config/leader-key \"h\" (general-simulate-key \"C-h\" :state '(normal visual) :name general-SPC-h-simulates-C-h :docstring \"Simulates C-h in normal and visual mode.\" :which-key \"Help\")) This is how we can simulate C-h keybindings into general keybindings. This way SPC- h is simulating C-h.\nhttps://github.com/noctuid/general.el ↩︎\n","wordCount":"540","inLanguage":"en","datePublished":"2024-02-24T00:00:00Z","dateModified":"2024-02-29T03:59:35Z","author":[{"@type":"Person","name":"Kristian Alexander P"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://alexforsale.github.io/posts/emacs-general/"},"publisher":{"@type":"Organization","name":"alexforsale.github.io","logo":{"@type":"ImageObject","url":"https://alexforsale.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://alexforsale.github.io/ accesskey=h title="alexforsale.github.io (Alt + H)">alexforsale.github.io</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://alexforsale.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://alexforsale.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://alexforsale.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://alexforsale.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://alexforsale.github.io/about/ title=about><span>about</span></a></li><li><a href=https://alexforsale.github.io/search/ title=search><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://alexforsale.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://alexforsale.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Emacs general.el</h1><div class=post-description>More convenient key definitions in emacs</div><div class=post-meta><span title='2024-02-24 00:00:00 +0000 UTC'>February 24, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;540 words&nbsp;·&nbsp;Kristian Alexander P</div></header><div class=post-content><h2 id=about>About<a hidden class=anchor aria-hidden=true href=#about>#</a></h2><p><code>general.el</code> provides a more convenient method for binding keys in emacs (for both evil and non-evil users). Like <code>use-package</code>, which provides a convenient, unified interface for managing packages, <code>general.el</code> is intended to provide a convenient, unified interface for key definitions. While this package does implement some completely new functionality (such as the ability to make vim-style keybindings under non-prefix keys with an optional timeout), its primary purpose is to build on existing functionality to make key definition more clear and concise. <code>general-define-key</code> is user-extensible and supports defining multiple keys in multiple keymaps at once, implicitly wrapping key strings with (<code>kbd ...</code>), using named prefix key sequences (like the leader key in vim), and much more<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><h2 id=installing>Installing<a hidden class=anchor aria-hidden=true href=#installing>#</a></h2><h3 id=with-use-package>with <code>use-package</code><a hidden class=anchor aria-hidden=true href=#with-use-package>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>general</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span> <span class=no>t</span>
</span></span><span class=line><span class=cl>  <span class=nb>:init</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>with-eval-after-load</span> <span class=ss>&#39;evil</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>general-evil-setup</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>general-auto-unbind-keys</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>general-override-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>general-create-definer</span> <span class=nv>+config/leader-key</span>
</span></span><span class=line><span class=cl>    <span class=nb>:keymaps</span> <span class=ss>&#39;override</span>
</span></span><span class=line><span class=cl>    <span class=nb>:states</span>  <span class=o>&#39;</span><span class=p>(</span><span class=nf>insert</span> <span class=nv>emacs</span> <span class=nv>normal</span> <span class=nv>hybrid</span> <span class=nv>motion</span> <span class=nv>visual</span> <span class=nv>operator</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>:prefix</span> <span class=s>&#34;SPC&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>:non-normal-prefix</span> <span class=s>&#34;s-SPC&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>general-create-definer</span> <span class=nv>+config/local-leader</span>
</span></span><span class=line><span class=cl>    <span class=nb>:keymaps</span> <span class=ss>&#39;override</span>
</span></span><span class=line><span class=cl>    <span class=nb>:states</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>emacs</span> <span class=nv>normal</span> <span class=nv>hybrid</span> <span class=nv>motion</span> <span class=nv>visual</span> <span class=nv>operator</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>:prefix</span> <span class=s>&#34;m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>:non-normal-prefix</span> <span class=s>&#34;s-m&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nb>:ignore</span> <span class=no>t</span> <span class=nb>:which-key</span> <span class=p>(</span><span class=nb>lambda</span> <span class=p>(</span><span class=nv>arg</span><span class=p>)</span> <span class=o>`</span><span class=p>(</span><span class=o>,</span><span class=p>(</span><span class=nv>cadr</span> <span class=p>(</span><span class=nv>split-string</span> <span class=p>(</span><span class=nf>car</span> <span class=nv>arg</span><span class=p>)</span> <span class=s>&#34; &#34;</span><span class=p>))</span> <span class=o>.</span> <span class=o>,</span><span class=p>(</span><span class=nv>replace-regexp-in-string</span> <span class=s>&#34;-mode$&#34;</span> <span class=s>&#34;&#34;</span> <span class=p>(</span><span class=nf>symbol-name</span> <span class=nv>major-mode</span><span class=p>)))))))</span>
</span></span></code></pre></div><h4 id=notes>Notes:<a hidden class=anchor aria-hidden=true href=#notes>#</a></h4><ul><li><code>general-create-definer</code> is a helper macro to create wrapper for <code>general-def</code>.</li><li>Here I create two wrapper, <code>+config/leader-key</code> and <code>+config/local-leader</code>. The first with <code>SPC</code> as a prefix, the latter with <code>m</code></li><li>To create a keybinding with <code>+config/leader-key</code>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nv>+config/leader-key</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;;&#34;</span> <span class=ss>&#39;pp-eval-expression</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;:&#34;</span> <span class=ss>&#39;execute-extended-command</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;.&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>find-file</span> <span class=nb>:wk</span> <span class=s>&#34;find file&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;^&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>subword-capitalize</span> <span class=nb>:wk</span> <span class=s>&#34;Capitalize subword&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;u&#34;</span> <span class=ss>&#39;universal-argument</span><span class=p>)</span>
</span></span></code></pre></div></li></ul><p>Pressing <code>SPC ;</code> in normal mode, will execute <code>pp-eval-expression</code>, and so on.</p><ul><li>As for <code>+config/local-leader</code>:<div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>with-eval-after-load</span>  <span class=ss>&#39;ansible</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>+config/local-leader</span>
</span></span><span class=line><span class=cl>    <span class=nb>:keymaps</span> <span class=ss>&#39;yaml-mode-map</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;a&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nb>:ignore</span> <span class=no>t</span> <span class=nb>:wk</span> <span class=nv>ansible</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;ad&#34;</span> <span class=ss>&#39;ansible-decrypt-buffer</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;ae&#34;</span> <span class=ss>&#39;ansible-encrypt-buffer</span><span class=p>))</span>
</span></span></code></pre></div></li></ul><p>Pressing <code>m a d</code> while in normal mode while in a <code>yaml-mode</code> buffer (ex. editing a yaml file) will execute <code>ansible-decrypt-buffer</code></p><h3 id=useful-macro>Useful macro<a hidden class=anchor aria-hidden=true href=#useful-macro>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>defmacro</span> <span class=nv>+config/leader-menu!</span> <span class=p>(</span><span class=nv>name</span> <span class=nv>infix-key</span> <span class=kp>&amp;rest</span> <span class=nv>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;Create a definer NAME </span><span class=ss>`+config/leader-NAME&#39;</span><span class=s> wrapping </span><span class=ss>`+config/leader-key&#39;</span><span class=s>.
</span></span></span><span class=line><span class=cl><span class=s>Create prefix map: </span><span class=ss>`+config/leader-NAME-map&#39;</span><span class=s>. Prefix bindings in BODY with INFIX-KEY.&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>declare</span> <span class=p>(</span><span class=nv>indent</span> <span class=mi>2</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=o>`</span><span class=p>(</span><span class=nb>progn</span>
</span></span><span class=line><span class=cl>     <span class=p>(</span><span class=nv>general-create-definer</span> <span class=o>,</span><span class=p>(</span><span class=nf>intern</span> <span class=p>(</span><span class=nf>concat</span> <span class=s>&#34;+config/leader-&#34;</span> <span class=nv>name</span><span class=p>))</span>
</span></span><span class=line><span class=cl>       <span class=nb>:wrapping</span> <span class=nv>+config/leader-key</span>
</span></span><span class=line><span class=cl>       <span class=nb>:prefix-map</span> <span class=p>(</span><span class=nb>quote</span> <span class=o>,</span><span class=p>(</span><span class=nf>intern</span> <span class=p>(</span><span class=nf>concat</span> <span class=s>&#34;+config/leader-&#34;</span> <span class=nv>name</span> <span class=s>&#34;-map&#34;</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>       <span class=nb>:infix</span> <span class=o>,</span><span class=nv>infix-key</span>
</span></span><span class=line><span class=cl>       <span class=nb>:wk-full-keys</span> <span class=no>nil</span>
</span></span><span class=line><span class=cl>       <span class=s>&#34;&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nb>:ignore</span> <span class=no>t</span> <span class=nb>:which-key</span> <span class=o>,</span><span class=nv>name</span><span class=p>))</span>
</span></span><span class=line><span class=cl>     <span class=p>(</span><span class=o>,</span><span class=p>(</span><span class=nf>intern</span> <span class=p>(</span><span class=nf>concat</span> <span class=s>&#34;+config/leader-&#34;</span> <span class=nv>name</span><span class=p>))</span>
</span></span><span class=line><span class=cl>      <span class=o>,@</span><span class=nv>body</span><span class=p>)))</span>
</span></span></code></pre></div><p>This is a macro for creating a wrapper for each sub menu. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nv>+config/leader-menu!</span> <span class=s>&#34;buffer&#34;</span> <span class=s>&#34;b&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>will create a keymap with the name <code>+config/leader-buffer-map</code>, to add keybinding into it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nv>+config/leader-buffer</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;[&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>previous-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;previous buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;]&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>next-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;next buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;TAB&#34;</span> <span class=o>&#39;</span><span class=p>((</span><span class=nb>lambda</span> <span class=p>()</span> <span class=p>(</span><span class=nb>interactive</span><span class=p>)</span> <span class=p>(</span><span class=nv>switch-to-buffer</span> <span class=no>nil</span><span class=p>))</span> <span class=nb>:wk</span> <span class=s>&#34;other-buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;b&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>switch-to-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;switch to buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;s&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>basic-save-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;save buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;c&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>clone-indirect-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;clone buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;C&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>clone-indirect-buffer-other-window</span> <span class=nb>:wk</span> <span class=s>&#34;clone buffer other window&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;d&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>kill-current-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;kill current buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;i&#34;</span> <span class=ss>&#39;ibuffer</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;k&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nf>kill-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;kill buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;l&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>evil-switch-to-windows-last-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;Switch to last open buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;m&#34;</span> <span class=o>&#39;</span><span class=p>((</span><span class=nb>lambda</span> <span class=p>()</span> <span class=p>(</span><span class=nb>interactive</span><span class=p>)</span> <span class=p>(</span><span class=nv>switch-to-buffer</span> <span class=s>&#34;*Messages*&#34;</span><span class=p>))</span> <span class=nb>:wk</span> <span class=s>&#34;switch to messages buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;n&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>next-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;next buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;N&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>evil-buffer-new</span> <span class=nb>:wk</span> <span class=s>&#34;New unnamed buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;p&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>previous-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;previous buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;o&#34;</span> <span class=o>&#39;</span><span class=p>((</span><span class=nb>lambda</span> <span class=p>()</span> <span class=p>(</span><span class=nb>interactive</span><span class=p>)</span> <span class=p>(</span><span class=nv>switch-to-buffer</span> <span class=no>nil</span><span class=p>))</span> <span class=nb>:wk</span> <span class=s>&#34;other-buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;r&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>revert-buffer-quick</span> <span class=nb>:wk</span> <span class=s>&#34;revert buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;R&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nf>rename-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;rename buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;x&#34;</span> <span class=o>&#39;</span><span class=p>((</span><span class=nb>lambda</span> <span class=p>()</span> <span class=p>(</span><span class=nb>interactive</span><span class=p>)</span> <span class=p>(</span><span class=nv>switch-to-buffer</span> <span class=s>&#34;*scratch*&#34;</span><span class=p>))</span> <span class=nb>:wk</span> <span class=s>&#34;switch to scratch buffer&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;z&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>bury-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;bury buffer&#34;</span><span class=p>))</span>
</span></span></code></pre></div><p>Pressing <code>SPC b b</code> will execute <code>switch-to-buffer</code>.</p><h3 id=simulating-key>Simulating key<a hidden class=anchor aria-hidden=true href=#simulating-key>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nv>+config/leader-key</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;h&#34;</span> <span class=p>(</span><span class=nv>general-simulate-key</span> <span class=s>&#34;C-h&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>:state</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>normal</span> <span class=nv>visual</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>:name</span> <span class=nv>general-SPC-h-simulates-C-h</span>
</span></span><span class=line><span class=cl>        <span class=nb>:docstring</span> <span class=s>&#34;Simulates C-h in normal and visual mode.&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>:which-key</span> <span class=s>&#34;Help&#34;</span><span class=p>))</span>
</span></span></code></pre></div><p>This is how we can simulate <code>C-h</code> keybindings into <code>general</code> keybindings. This way <code>SPC- h</code> is simulating <code>C-h</code>.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://github.com/noctuid/general.el>https://github.com/noctuid/general.el</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://alexforsale.github.io/tags/emacs/>Emacs</a></li><li><a href=https://alexforsale.github.io/tags/configuration/>Configuration</a></li><li><a href=https://alexforsale.github.io/tags/general/>General</a></li><li><a href=https://alexforsale.github.io/tags/keybindings/>Keybindings</a></li><li><a href=https://alexforsale.github.io/tags/keyboard/>Keyboard</a></li></ul><nav class=paginav><a class=prev href=https://alexforsale.github.io/posts/emacs-evil/><span class=title>« Prev</span><br><span>Emacs Evil</span>
</a><a class=next href=https://alexforsale.github.io/posts/emacs-sane-defaults/><span class=title>Next »</span><br><span>Emacs sane defaults</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://alexforsale.github.io/>alexforsale.github.io</a></span>
<span><a href=https://github.com/alexforsale/alexforsale.github.io/ rel="noopener noreferrer" target=_blank>source</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>