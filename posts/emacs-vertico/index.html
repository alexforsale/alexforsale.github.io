<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Emacs vertico | alexforsale.github.io</title>
<meta name=keywords content="emacs,configuration,vertico"><meta name=description content="VERTical Interactive COmpletion"><meta name=author content="Kristian Alexander P"><link rel=canonical href=https://alexforsale.github.io/posts/emacs-vertico/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://alexforsale.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://alexforsale.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://alexforsale.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://alexforsale.github.io/apple-touch-icon.png><link rel=mask-icon href=https://alexforsale.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://alexforsale.github.io/posts/emacs-vertico/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Emacs vertico"><meta property="og:description" content="VERTical Interactive COmpletion"><meta property="og:type" content="article"><meta property="og:url" content="https://alexforsale.github.io/posts/emacs-vertico/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-22T00:00:00+00:00"><meta property="article:modified_time" content="2024-02-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Emacs vertico"><meta name=twitter:description content="VERTical Interactive COmpletion"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://alexforsale.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Emacs vertico","item":"https://alexforsale.github.io/posts/emacs-vertico/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Emacs vertico","name":"Emacs vertico","description":"VERTical Interactive COmpletion","keywords":["emacs","configuration","vertico"],"articleBody":"Vertico provides a performant and minimalistic vertical completion UI based on the default completion system. The focus of Vertico is to provide a UI which behaves correctly under all circumstances. By reusing the built-in facilities system, Vertico achieves full compatibility with built-in Emacs completion commands and completion tables. Vertico only provides the completion UI but aims to be highly flexible, extendable and modular. Additional enhancements are available as extensions or complementary packages. The code base is small and maintainable. The main vertico.el package is only about 600 lines of code without white space and comments1.\nInstallation Figure 1: emacs without vertico\nFigure 2: emacs with vertico\nWith use-package ;; Enable vertico (use-package vertico :init (vertico-mode) ;; Different scroll margin ;; (setq vertico-scroll-margin 0) ;; Show more candidates ;; (setq vertico-count 20) ;; Grow and shrink the Vertico minibuffer ;; (setq vertico-resize t) ;; Optionally enable cycling for `vertico-next' and `vertico-previous'. ;; (setq vertico-cycle t) ) ;; Persist history over Emacs restarts. Vertico sorts by history position. (use-package savehist :init (savehist-mode)) ;; A few more useful configurations... (use-package emacs :init ;; Add prompt indicator to `completing-read-multiple'. ;; We display [CRM], e.g., [CRM,] if the separator is a comma. (defun crm-indicator (args) (cons (format \"[CRM%s] %s\" (replace-regexp-in-string \"\\\\`\\\\[.*?]\\\\*\\\\|\\\\[.*?]\\\\*\\\\'\" \"\" crm-separator) (car args)) (cdr args))) (advice-add #'completing-read-multiple :filter-args #'crm-indicator) ;; Do not allow the cursor in the minibuffer prompt (setq minibuffer-prompt-properties '(read-only t cursor-intangible t face minibuffer-prompt)) (add-hook 'minibuffer-setup-hook #'cursor-intangible-mode) ;; Emacs 28: Hide commands in M-x which do not work in the current mode. ;; Vertico commands are hidden in normal buffers. (setq read-extended-command-predicate #'command-completion-default-include-p) ;; Enable recursive minibuffers (setq enable-recursive-minibuffers t)) vertico configuration vertico-scroll-margin Number of lines at the top and bottom when scrolling (default to 2). vertico-count Maximal number of candidates to show (default to 10). vertico-resize How to resize the vertico minibuffer window (default to the value of resize-mini-windows, which is 'grow-only). vertico-cycle enable cycling for vertico-next and vertico-previous, default to nil. Extensions The package also includes some extensions, they’re installed automatically if using package from ELPA.\nvertico-flat Flat, horizontal display for vertico, enable it with M-x vertico-flat-mode.\nFigure 3: vertico-flat-mode\nvertico-buffer vertico-buffer-mode to display Vertico like a regular buffer.\nFigure 4: vertico-buffer-mode\nvertico-directory Commands for Ido-like directory navigation. The commands can be bound in the vertico-map. Furthermore a cleanup function for shadowed file paths is provided.\n(keymap-set vertico-map \"RET\" #'vertico-directory-enter) (keymap-set vertico-map \"DEL\" #'vertico-directory-delete-char) (keymap-set vertico-map \"M-DEL\" #'vertico-directory-delete-word) (add-hook 'rfn-eshadow-update-overlay-hook #'vertico-directory-tidy) this way when opening file (via C-x C-f or with M-x find-file), pressing Backspace (or DEL), will automatically remove one directory up.\nvertico-grid Enables grid-display.\nFigure 5: vertico-grid-mode\nvertico-indexed-mode Select indexed candidates with prefix arguments.\nSelect the candidate number with M-, for example: to select candidate 2 press M-2 RET.\nvertico-mouse Support for scrolling and candidate selection.\nvertico-unobstrusive-mode Display only the topmost candidate. It is a simple derivative of vertico-flat-mode.\nvertico-suspend Suspend the current Vertico completion session. If vertico-suspend is called from within the currently active Vertico minibuffer, the completion session is suspended. Otherwise the last session is restored. It is possible to suspend multiple nested Vertico sessions. Note that vertico-suspend requires that recursive minibuffers are enabled by setting the customizable variable enable-recursive-minibuffers to t.\nvertico-reverse Reverse the list of candidates.\nFigure 7: vertico-reverse-mode\nvertico-repeat Enables repetition of Vertico sessions via the vertico-repeat, vertico-repeat-previous and vertico-repeat-select commands. If the repeat commands are called from an existing Vertico minibuffer session, only sessions corresponding to the current minibuffer command are offered via completion.\nIt is necessary to register a minibuffer setup hook, which saves the Vertico state for repetition. In order to save the history across Emacs sessions, enable savehist-mode and add vertico-repeat-history to savehist-additional-variables.\n(add-to-list 'savehist-additional-variables 'vertico-repeat-history) (keymap-global-set \"M-R\" #'vertico-repeat) (keymap-set vertico-map \"M-P\" #'vertico-repeat-previous) (keymap-set vertico-map \"M-N\" #'vertico-repeat-next) (keymap-set vertico-map \"S-\" #'vertico-repeat-previous) (keymap-set vertico-map \"S-\" #'vertico-repeat-next) (add-hook 'minibuffer-setup-hook #'vertico-repeat-save) vertico-quick Similar to vertico-indexed-mode, which prefixes candidates with quick keys. Typing these quick keys allows you to select the candidate in front of them. This is designed to be a faster alternative to selecting a candidate with vertico-next and vertico-previous.\n(keymap-set vertico-map \"M-q\" #'vertico-quick-insert) (keymap-set vertico-map \"C-q\" #'vertico-quick-exit) Pressing M-q while in vertico-map will show all the candidates, pressing C-q will exit the candidate selection.\nvertico-multiform Perhaps the most complex extensions, used for fine tuning the Vertico display and other minibuffer modes per command or completion category. For some commands you may want to use the vertico-buffer display and for completion categories like file you prefer the vertico-grid-mode.\n(setq vertico-multiform-commands '((consult-line buffer) (consult-imenu reverse buffer) (execute-extended-command flat))) (setq vertico-multiform-categories '((file buffer grid) (imenu (:not indexed mouse)) (symbol (vertico-sort-function . vertico-sort-alpha)))) (vertico-multiform-mode) https://github.com/minad/vertico ↩︎\n","wordCount":"763","inLanguage":"en","datePublished":"2024-02-22T00:00:00Z","dateModified":"2024-02-22T00:00:00Z","author":[{"@type":"Person","name":"Kristian Alexander P"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://alexforsale.github.io/posts/emacs-vertico/"},"publisher":{"@type":"Organization","name":"alexforsale.github.io","logo":{"@type":"ImageObject","url":"https://alexforsale.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://alexforsale.github.io/ accesskey=h title="alexforsale.github.io (Alt + H)">alexforsale.github.io</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://alexforsale.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://alexforsale.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://alexforsale.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://alexforsale.github.io/about title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://alexforsale.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://alexforsale.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Emacs vertico</h1><div class=post-description>VERTical Interactive COmpletion</div><div class=post-meta><span title='2024-02-22 00:00:00 +0000 UTC'>February 22, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;763 words&nbsp;·&nbsp;Kristian Alexander P</div></header><div class=post-content><p>Vertico provides a performant and minimalistic vertical completion UI based on the default completion system. The focus of Vertico is to provide a UI which behaves correctly under all circumstances. By reusing the built-in facilities system, Vertico achieves full compatibility with built-in Emacs completion commands and completion tables. Vertico only provides the completion UI but aims to be highly flexible, extendable and modular. Additional enhancements are available as extensions or complementary packages. The code base is small and maintainable. The main vertico.el package is only about 600 lines of code without white space and comments<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><h2 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h2><figure><a href=/ox-hugo/emacs-without-vertico.png><img loading=lazy src=/ox-hugo/emacs-without-vertico.png alt="Figure 1: emacs without vertico"></a><figcaption><p><span class=figure-number>Figure 1: </span>emacs without vertico</p></figcaption></figure><figure><a href=/ox-hugo/emacs-vertico.png><img loading=lazy src=/ox-hugo/emacs-vertico.png alt="Figure 2: emacs with vertico"></a><figcaption><p><span class=figure-number>Figure 2: </span>emacs with vertico</p></figcaption></figure><h3 id=with-use-package>With <code>use-package</code><a hidden class=anchor aria-hidden=true href=#with-use-package>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=c1>;; Enable vertico</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>vertico</span>
</span></span><span class=line><span class=cl>  <span class=nb>:init</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>vertico-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Different scroll margin</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; (setq vertico-scroll-margin 0)</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Show more candidates</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; (setq vertico-count 20)</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Grow and shrink the Vertico minibuffer</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; (setq vertico-resize t)</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Optionally enable cycling for `vertico-next&#39; and `vertico-previous&#39;.</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; (setq vertico-cycle t)</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>;; Persist history over Emacs restarts. Vertico sorts by history position.</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>savehist</span>
</span></span><span class=line><span class=cl>  <span class=nb>:init</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>savehist-mode</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>;; A few more useful configurations...</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>emacs</span>
</span></span><span class=line><span class=cl>  <span class=nb>:init</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Add prompt indicator to `completing-read-multiple&#39;.</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; We display [CRM&lt;separator&gt;], e.g., [CRM,] if the separator is a comma.</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>defun</span> <span class=nv>crm-indicator</span> <span class=p>(</span><span class=nv>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nf>cons</span> <span class=p>(</span><span class=nf>format</span> <span class=s>&#34;[CRM%s] %s&#34;</span>
</span></span><span class=line><span class=cl>                  <span class=p>(</span><span class=nv>replace-regexp-in-string</span>
</span></span><span class=line><span class=cl>                   <span class=s>&#34;\\`\\[.*?]\\*\\|\\[.*?]\\*\\&#39;&#34;</span> <span class=s>&#34;&#34;</span>
</span></span><span class=line><span class=cl>                   <span class=nv>crm-separator</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                  <span class=p>(</span><span class=nf>car</span> <span class=nv>args</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nf>cdr</span> <span class=nv>args</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>advice-add</span> <span class=nf>#&#39;</span><span class=nv>completing-read-multiple</span> <span class=nb>:filter-args</span> <span class=nf>#&#39;</span><span class=nv>crm-indicator</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Do not allow the cursor in the minibuffer prompt</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>setq</span> <span class=nv>minibuffer-prompt-properties</span>
</span></span><span class=line><span class=cl>        <span class=o>&#39;</span><span class=p>(</span><span class=nv>read-only</span> <span class=no>t</span> <span class=nv>cursor-intangible</span> <span class=no>t</span> <span class=nv>face</span> <span class=nf>minibuffer-prompt</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>add-hook</span> <span class=ss>&#39;minibuffer-setup-hook</span> <span class=nf>#&#39;</span><span class=nv>cursor-intangible-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Emacs 28: Hide commands in M-x which do not work in the current mode.</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Vertico commands are hidden in normal buffers.</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>setq</span> <span class=nv>read-extended-command-predicate</span>
</span></span><span class=line><span class=cl>        <span class=nf>#&#39;</span><span class=nv>command-completion-default-include-p</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Enable recursive minibuffers</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>setq</span> <span class=nv>enable-recursive-minibuffers</span> <span class=no>t</span><span class=p>))</span>
</span></span></code></pre></div><h4 id=vertico-configuration>vertico configuration<a hidden class=anchor aria-hidden=true href=#vertico-configuration>#</a></h4><dl><dt><code>vertico-scroll-margin</code></dt><dd>Number of lines at the top and bottom when scrolling (default to 2).</dd><dt><code>vertico-count</code></dt><dd>Maximal number of candidates to show (default to 10).</dd><dt><code>vertico-resize</code></dt><dd>How to resize the <code>vertico</code> minibuffer window (default to the value of <code>resize-mini-windows</code>, which is <code>'grow-only</code>).</dd><dt><code>vertico-cycle</code></dt><dd>enable cycling for <code>vertico-next</code> and <code>vertico-previous</code>, default to <code>nil</code>.</dd></dl><h2 id=extensions>Extensions<a hidden class=anchor aria-hidden=true href=#extensions>#</a></h2><p>The package also includes some extensions, they&rsquo;re installed automatically if using package from <code>ELPA</code>.</p><h3 id=vertico-flat><code>vertico-flat</code><a hidden class=anchor aria-hidden=true href=#vertico-flat>#</a></h3><p>Flat, horizontal display for <code>vertico</code>, enable it with <code>M-x vertico-flat-mode</code>.</p><figure><a href=/ox-hugo/vertico-flat-mode.png><img loading=lazy src=/ox-hugo/vertico-flat-mode.png alt="Figure 3: vertico-flat-mode"></a><figcaption><p><span class=figure-number>Figure 3: </span>vertico-flat-mode</p></figcaption></figure><h3 id=vertico-buffer><code>vertico-buffer</code><a hidden class=anchor aria-hidden=true href=#vertico-buffer>#</a></h3><p><code>vertico-buffer-mode</code> to display Vertico like a regular buffer.</p><figure><a href=/ox-hugo/vertico-buffer-mode.png><img loading=lazy src=/ox-hugo/vertico-buffer-mode.png alt="Figure 4: vertico-buffer-mode"></a><figcaption><p><span class=figure-number>Figure 4: </span>vertico-buffer-mode</p></figcaption></figure><h3 id=vertico-directory><code>vertico-directory</code><a hidden class=anchor aria-hidden=true href=#vertico-directory>#</a></h3><p>Commands for Ido-like directory navigation. The commands can be bound in the <code>vertico-map</code>. Furthermore a cleanup function for shadowed file paths is provided.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;RET&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-directory-enter</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;DEL&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-directory-delete-char</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;M-DEL&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-directory-delete-word</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>add-hook</span> <span class=ss>&#39;rfn-eshadow-update-overlay-hook</span> <span class=nf>#&#39;</span><span class=nv>vertico-directory-tidy</span><span class=p>)</span>
</span></span></code></pre></div><p>this way when opening file (via <code>C-x C-f</code> or with <code>M-x find-file</code>), pressing <code>Backspace</code> (or <code>DEL</code>), will automatically remove one directory up.</p><h3 id=vertico-grid><code>vertico-grid</code><a hidden class=anchor aria-hidden=true href=#vertico-grid>#</a></h3><p>Enables grid-display.</p><figure><a href=./vertico-grid-mode><img loading=lazy src=/ox-hugo/vertico-grid-mode.png alt="Figure 5: vertico-grid-mode"></a><figcaption><p><span class=figure-number>Figure 5: </span>vertico-grid-mode</p></figcaption></figure><h3 id=vertico-indexed-mode><code>vertico-indexed-mode</code><a hidden class=anchor aria-hidden=true href=#vertico-indexed-mode>#</a></h3><p>Select indexed candidates with prefix arguments.</p><p><a href=./vertico-indexed-mode><img loading=lazy src=/ox-hugo/vertico-indexed-mode.png alt>
</a>Select the candidate number with <code>M-&lt;candidate></code>, for example: to select candidate <code>2</code> press <code>M-2 RET</code>.</p><h3 id=vertico-mouse><code>vertico-mouse</code><a hidden class=anchor aria-hidden=true href=#vertico-mouse>#</a></h3><p>Support for scrolling and candidate selection.</p><h3 id=vertico-unobstrusive-mode><code>vertico-unobstrusive-mode</code><a hidden class=anchor aria-hidden=true href=#vertico-unobstrusive-mode>#</a></h3><p>Display only the topmost candidate. It is a simple derivative of <code>vertico-flat-mode</code>.</p><h3 id=vertico-suspend><code>vertico-suspend</code><a hidden class=anchor aria-hidden=true href=#vertico-suspend>#</a></h3><p>Suspend the current Vertico completion session. If <code>vertico-suspend</code> is called from within the currently active Vertico minibuffer, the completion session is suspended. Otherwise the last session is restored. It is possible to suspend multiple nested Vertico sessions. Note that <code>vertico-suspend</code> requires that recursive minibuffers are enabled by setting the customizable variable <code>enable-recursive-minibuffers</code> to <code>t</code>.</p><h3 id=vertico-reverse><code>vertico-reverse</code><a hidden class=anchor aria-hidden=true href=#vertico-reverse>#</a></h3><p>Reverse the list of candidates.</p><figure><a href=/ox-hugo/vertico-reverse-mode.png><img loading=lazy src=/ox-hugo/vertico-reverse-mode.png alt="Figure 7: vertico-reverse-mode"></a><figcaption><p><span class=figure-number>Figure 7: </span>vertico-reverse-mode</p></figcaption></figure><h3 id=vertico-repeat><code>vertico-repeat</code><a hidden class=anchor aria-hidden=true href=#vertico-repeat>#</a></h3><p>Enables repetition of Vertico sessions via the <code>vertico-repeat</code>, <code>vertico-repeat-previous</code> and <code>vertico-repeat-select</code> commands. If the repeat commands are called from an existing Vertico minibuffer session, only sessions corresponding to the current minibuffer command are offered via completion.</p><p>It is necessary to register a minibuffer setup hook, which saves the Vertico state for repetition. In order to save the history across Emacs sessions, enable <code>savehist-mode</code> and add <code>vertico-repeat-history</code> to <code>savehist-additional-variables</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nv>add-to-list</span> <span class=ss>&#39;savehist-additional-variables</span> <span class=ss>&#39;vertico-repeat-history</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-global-set</span> <span class=s>&#34;M-R&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-repeat</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;M-P&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-repeat-previous</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;M-N&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-repeat-next</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;S-&lt;prior&gt;&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-repeat-previous</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;S-&lt;next&gt;&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-repeat-next</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>add-hook</span> <span class=ss>&#39;minibuffer-setup-hook</span> <span class=nf>#&#39;</span><span class=nv>vertico-repeat-save</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=vertico-quick><code>vertico-quick</code><a hidden class=anchor aria-hidden=true href=#vertico-quick>#</a></h3><p>Similar to <code>vertico-indexed-mode</code>, which prefixes candidates with quick keys. Typing these quick keys allows you to select the candidate in front of them. This is designed to be a faster alternative to selecting a candidate with <code>vertico-next</code> and <code>vertico-previous</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;M-q&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-quick-insert</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>keymap-set</span> <span class=nv>vertico-map</span> <span class=s>&#34;C-q&#34;</span> <span class=nf>#&#39;</span><span class=nv>vertico-quick-exit</span><span class=p>)</span>
</span></span></code></pre></div><p><a href=/ox-hugo/vertico-quick.png><img loading=lazy src=/ox-hugo/vertico-quick.png alt>
</a>Pressing <code>M-q</code> while in <code>vertico-map</code> will show all the candidates, pressing <code>C-q</code> will exit the candidate selection.</p><h3 id=vertico-multiform><code>vertico-multiform</code><a hidden class=anchor aria-hidden=true href=#vertico-multiform>#</a></h3><p>Perhaps the most complex extensions, used for fine tuning the Vertico display and other minibuffer modes per command or completion category. For some commands you may want to use the <code>vertico-buffer</code> display and for completion categories like file you prefer the <code>vertico-grid-mode</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>setq</span> <span class=nv>vertico-multiform-commands</span>
</span></span><span class=line><span class=cl>      <span class=o>&#39;</span><span class=p>((</span><span class=nv>consult-line</span> <span class=nv>buffer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nv>consult-imenu</span> <span class=nf>reverse</span> <span class=nv>buffer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nv>execute-extended-command</span> <span class=nv>flat</span><span class=p>)))</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>setq</span> <span class=nv>vertico-multiform-categories</span>
</span></span><span class=line><span class=cl>      <span class=o>&#39;</span><span class=p>((</span><span class=nv>file</span> <span class=nv>buffer</span> <span class=nv>grid</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nv>imenu</span> <span class=p>(</span><span class=nb>:not</span> <span class=nv>indexed</span> <span class=nv>mouse</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nv>symbol</span> <span class=p>(</span><span class=nv>vertico-sort-function</span> <span class=o>.</span> <span class=nv>vertico-sort-alpha</span><span class=p>))))</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>vertico-multiform-mode</span><span class=p>)</span>
</span></span></code></pre></div><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://github.com/minad/vertico>https://github.com/minad/vertico</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://alexforsale.github.io/tags/emacs/>Emacs</a></li><li><a href=https://alexforsale.github.io/tags/configuration/>Configuration</a></li><li><a href=https://alexforsale.github.io/tags/vertico/>Vertico</a></li></ul><nav class=paginav><a class=prev href=https://alexforsale.github.io/posts/emacs-sane-defaults/><span class=title>« Prev</span><br><span>Emacs sane defaults</span>
</a><a class=next href=https://alexforsale.github.io/posts/github-action-hugo-emacs/><span class=title>Next »</span><br><span>Github Action for hugo static site using Emacs</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://alexforsale.github.io/>alexforsale.github.io</a></span>
<span><a href=https://github.com/alexforsale/alexforsale.github.io/ rel="noopener noreferrer" target=_blank>source</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>