<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Emacs Version Control | alexforsale.github.io</title><meta name=keywords content="emacs,configuration,git,magit,projectile"><meta name=description content="Managing version controlled projects within Emacs"><meta name=author content="Kristian Alexander P"><link rel=canonical href=https://alexforsale.github.io/posts/emacs-version-control/><link crossorigin=anonymous href=/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css integrity="sha256-IhHKMWS+eDACT2qtKzouUghDpk+PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as=style><link rel=icon href=https://alexforsale.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://alexforsale.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://alexforsale.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://alexforsale.github.io/apple-touch-icon.png><link rel=mask-icon href=https://alexforsale.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://alexforsale.github.io/posts/emacs-version-control/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://alexforsale.github.io/posts/emacs-version-control/"><meta property="og:site_name" content="alexforsale.github.io"><meta property="og:title" content="Emacs Version Control"><meta property="og:description" content="Managing version controlled projects within Emacs"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-29T00:00:00+00:00"><meta property="article:modified_time" content="2025-09-21T07:30:15+00:00"><meta property="article:tag" content="Emacs"><meta property="article:tag" content="Configuration"><meta property="article:tag" content="Git"><meta property="article:tag" content="Magit"><meta property="article:tag" content="Projectile"><meta name=twitter:card content="summary"><meta name=twitter:title content="Emacs Version Control"><meta name=twitter:description content="Managing version controlled projects within Emacs"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://alexforsale.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Emacs Version Control","item":"https://alexforsale.github.io/posts/emacs-version-control/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Emacs Version Control","name":"Emacs Version Control","description":"Managing version controlled projects within Emacs","keywords":["emacs","configuration","git","magit","projectile"],"articleBody":"Magit Magit is a complete text-based user interface to Git. It fills the glaring gap between the Git command-line interface and various GUIs, letting you perform trivial as well as elaborate version control tasks with just a couple of mnemonic key presses. Magit looks like a prettified version of what you get after running a few Git commands but in Magit every bit of visible information is also actionable to an extent that goes far beyond what any Git GUI provides and it takes care of automatically refreshing this output when it becomes outdated. In the background Magit just runs Git commands and if you wish you can see what exactly is being run, making it possible for you to learn the git command-line by using Magit1.\nActually, Emacs already has a built-in version control package (aptly named vc). But to me the UI is rather cryptic. I’ve used magit since forever, and old habit die hard.\nFigure 1: Emacs magit status\nInstallation use-package 1 2 3 4 5 6 7 8 9 10 11 12 (use-package magit :ensure :demand t :config (evil-set-initial-state #'git-commit-mode 'insert) (with-eval-after-load 'general (+config/leader-go \"g\" 'magit-status)) :custom (magit-revision-show-gravatars '(\"^Author: \" . \"^Commit: \")) (magit-diff-refine-hunk 'all) (magit-log-arguments '(\"-n100\" \"--graph\" \"--decorate\"))) Code Snippet 1: magit suggested installation Notes:\nmagit-revision-show-gravatars will enable gravatars when viewing commits. The service used by default is Libgravatar. extensions There are lots of extensions for magit which adds more features or functionalities. These are the ones I use:\ngit-link Interactive Emacs functions that create URLs for files and commits in GitHub/Bitbucket/GitLab/… repositories2.\n1 2 3 4 5 6 7 8 9 10 (use-package git-link :ensure :commands (git-link git-link-commit git-link-homepage) :config (with-eval-after-load 'general (+config/leader-go \"G\" '(:ignore t :wk \"git\") \"Gl\" 'git-link \"Gh\" 'git-link-homepage \"Gc\" 'git-link-commit))) Code Snippet 2: my git-link setup Notes:\ngit-link returns the URL for the current buffer’s file location at the current line number or active region.\ngit-link-commit returns the URL for the commit at point.\ngit-link-homepage returns the URL for the repository’s homepage.\nAll the URLs are added to the kill ring automatically.\ngit-messenger git-messenger.el is Emacs port of git-messenger.vim3.\ngit-messenger.el provides function that popup commit message at current line. This is useful when you want to know why this line was changed.\n1 2 3 4 5 6 7 8 9 10 (use-package git-messenger :ensure :config (with-eval-after-load 'general (+config/leader-go \"Gm\" 'git-messenger:popup-message)) :custom ;; Enable magit-show-commit instead of pop-to-buffer (git-messenger:use-magit-popup t) (git-messenger:show-detail t)) Code Snippet 3: my git-messenger setup Figure 2: image from the github README\ngit-timemachine\nWalk through git revisions of a file4.\n1 2 3 4 5 6 7 (use-package git-timemachine :ensure :after magit :config (with-eval-after-load 'general (+config/leader-go \"Gt\" 'git-timemachine-toggle))) Code Snippet 4: My git-timemachine configuration magit-todos\nThis package displays keyword entries from source code comments and Org files in the Magit status buffer. Activating an item jumps to it in its file. By default, it uses keywords from hl-todo, minus a few (like NOTE).\nProjectile Projectile is a project interaction library for Emacs. Its goal is to provide a nice set of features operating on a project level without introducing external dependencies (when feasible). For instance - finding project files has a portable implementation written in pure Emacs Lisp without the use of GNU find (but for performance sake an indexing mechanism backed by external commands exists as well).\nInstallation 1 2 3 4 5 6 7 (use-package projectile :ensure t :init (projectile-mode +1) :bind (:map projectile-mode-map (\"s-p\" . projectile-command-map) (\"C-c p\" . projectile-command-map))) Code Snippet 5: projectile suggested installation This is the basic configuration, however, projectile is highly configurable. This is how I setup my configuration for projectile:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 (use-package projectile :ensure t :demand t :bind (([remap evil-jump-to-tag] . projectile-find-tag) ([remap find-tag] . projectile-find-tag)) :hook (dired-before-readin . projectile-track-known-projects-find-file-hook) :custom (projectile-cache-file (expand-file-name \".projects\" user-emacs-directory)) (projectile-auto-discover nil) (projectile-enable-caching (not noninteractive)) (projectile-globally-ignored-files '(\"DS_Store\" \"TAGS\")) (projectile-globally-ignored-file-suffixes '(\".elc\" \".pyc\" \".o\")) (projectile-kill-buffers-filter 'kill-only-files) (projectile-known-projects-file (expand-file-name \".projectile_projects.eld\" user-emacs-directory)) (projectile-ignored-projects '(\"~/\")) (projectile-project-root-files-bottom-up (append '(\".projectile\" \".project\" \".git\") (when (executable-find \"hg\") '(\".hg\")) (when (executable-find \"bzr\") '(\".bzr\")))) (projectile-project-root-files-top-down-recurring '(\"Makefile\")) (compilation-buffer-name-function #'projectile-compilation-buffer-name) (compilation-save-buffers-predicate #'projectile-current-project-buffer-p) (projectile-git-submodule-command nil) (projectile-indexing-method 'hybrid) :config (projectile-mode +1) (put 'projectile-git-submodule-command 'initial-value projectile-git-submodule-command) (with-eval-after-load 'general (+config/leader-key \"SPC\" 'projectile-find-file \"p\" '(:keymap projectile-command-map :package projectile :wk \"projectile\")))) Code Snippet 6: my projectile configuration Notes:\nif you use https://github.com/emacs-dashboard/emacs-dashboarddashboard, projectile will automatically set dashboard-projects-backend to 'projectile. External tools Projectile will work without any external dependencies out of the box. However, if you have various tools installed, they will be automatically used when appropriate to improve performance. If you use git, install the system package as well.\nfd File searching tool, if available, will be use as an alternative to git ls-files.\nag / ripgrep To benefit from the projectile-ag and projectile-ripgrep commands to perform file search, it’s recommended to install ag (the_silver_searcher) and/or rg (ripgrep). You should also install the Emacs packages ag, ripgrep or rg if you want to make sure of Projectile’s commands projectile-ag and projectile-ripgrep.\n1 2 3 4 5 (use-package ripgrep :ensure :init (with-eval-after-load 'evil-collection (evil-collection-ripgrep-setup))) Code Snippet 7: ripgrep package Useful commands projectile-find-file, bound to SPC p f in my configuration. Find file in current project. projectile-switch-project, bound to SPC p p, you can also switch to between open projects with SPC p q. projectile-grep, bound to SPC p s g, search for text/regexp in project. projectile-replace, bound to SPC p r, replace in project. projectile-commander, execute any projectile command with a single letter. See the variable projectile-commander-methods to see the list of methods used. projectile-find-other-file, switch between files with the same name but different extensions (e.g. foo.h to foo.c). projectile-run-shell-command-in-root and projectile-run-async-shell-comand-in-root, bound to SPC p ! and SPC p \u0026, Run a shell command in the root of the project. other commands described in the documentation. Packages that interacts with projectile counsel helm perspective org-mode treemacs speedbar neotree lsp-mode diff-hl diff-hl-mode highlights uncommitted changes on the left side of the window (area also known as the “gutter”), allows you to jump between and revert them selectively5.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 (use-package diff-hl :ensure :hook (find-file . diff-hl-mode) :hook (vc-dir-mode . diff-hl-dir-mode) :hook (dired-mode . diff-hl-dired-mode) :hook (diff-hl-mode . diff-hl-show-hunk-mouse-mode) :hook (diff-hl-mode . diff-hl-flydiff-mode) :hook (magit-pre-refresh-hook . diff-hl-magit-pre-refresh) :hook (magit-post-refresh-hook . diff-hl-magit-post-refresh) :init (global-diff-hl-mode) :custom (vc-git-diff-switches '(\"--histogram\") diff-hl-flydiff-delay 0.5 diff-hl-show-staged-changes nil) :config (when (featurep 'flycheck) (setq flycheck-indication-mode 'right-fringe))) Code Snippet 8: my diff-hl setup Perspective The Perspective package provides multiple named workspaces (or “perspectives”) in Emacs, similar to multiple desktops in window managers like Awesome and XMonad, and Spaces on the Mac. Each perspective has its own buffer list and its own window layout, along with some other isolated niceties, like the xref ring. This makes it easy to work on many separate projects without getting lost in all the buffers. Switching to a perspective activates its window configuration, and when in a perspective, only its buffers are available (by default). Each Emacs frame has a distinct list of perspectives6.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 (use-package perspective :ensure :config (setq persp-initial-frame-name \"Main\" persp-suppress-no-prefix-key-warning t) (if (featurep 'no-littering) (setq persp-state-default-file (expand-file-name \".perspective-state\" no-littering-var-directory)) (setq persp-state-default-file (expand-file-name \".perspective-state\" user-emacs-directory))) (global-set-key [remap switch-to-buffer] #'persp-switch-to-buffer*) (when (featurep 'consult) (require 'consult) (unless (boundp 'persp-consult-source) (defvar persp-consult-source (list :name \"Perspective\" :narrow ?s :category 'buffer :state #'consult--buffer-state :history 'buffer-name-history :default t :items #'(lambda () (consult--buffer-query :sort 'visibility :predicate '(lambda (buf) (persp-is-current-buffer buf t)) :as #'buffer-name))))) (consult-customize consult--source-buffer :hidden t :default nil) (add-to-list 'consult-buffer-sources persp-consult-source)) (with-eval-after-load 'general (general-def :keymaps 'perspective-map \"P\" 'projectile-persp-switch-project) (+config/leader-key \"TAB\" '(:keymap perspective-map :package perspective :which-key \"perspective\") \"TAB TAB\" '(persp-switch-last :wk \"switch to last perspective\") \"C-x\" '(persp-switch-to-scratch-buffer :wk \"switch to scratch buffer\"))) :init (customize-set-variable 'persp-mode-prefix-key (kbd \"C-c TAB\")) (unless (equal persp-mode t) (persp-mode 1)) :bind (([remap switch-to-buffer] . persp-switch-to-buffer*) ([remap kill-buffer] . persp-kill-buffer*)) :hook (kill-emacs . persp-state-save)) (use-package persp-projectile :ensure t :after perspective :commands projectile-persp-switch-project) Code Snippet 9: my perspective configuration Notes: The persp-consult-source is added to the consult-buffer-sources for the consult-buffer command. The prefix keybinding I use is SPC TAB.\nhttps://magit.vc/ ↩︎\nhttps://github.com/sshaw/git-link ↩︎\nhttps://github.com/emacsorphanage/git-messenger ↩︎\nhttps://github.com/emacsmirror/git-timemachine ↩︎\nhttps://github.com/dgutov/diff-hl ↩︎\nhttps://github.com/nex3/perspective-el ↩︎\n","wordCount":"1396","inLanguage":"en","datePublished":"2024-02-29T00:00:00Z","dateModified":"2025-09-21T07:30:15Z","author":[{"@type":"Person","name":"Kristian Alexander P"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://alexforsale.github.io/posts/emacs-version-control/"},"publisher":{"@type":"Organization","name":"alexforsale.github.io","logo":{"@type":"ImageObject","url":"https://alexforsale.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://alexforsale.github.io/ accesskey=h title="alexforsale.github.io (Alt + H)">alexforsale.github.io</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://alexforsale.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://alexforsale.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://alexforsale.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://alexforsale.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://alexforsale.github.io/braindump/ title=braindump><span>braindump</span></a></li><li><a href=https://alexforsale.github.io/projects/ title=projects><span>projects</span></a></li><li><a href=https://alexforsale.github.io/about/ title=about><span>about</span></a></li><li><a href=https://alexforsale.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://alexforsale.github.io/ title=home><span>home</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://alexforsale.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://alexforsale.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Emacs Version Control</h1><div class=post-description>Managing version controlled projects within Emacs</div><div class=post-meta><span title='2024-02-29 00:00:00 +0000 UTC'>February 29, 2024</span>&nbsp;·&nbsp;<span title='2025-09-21 07:30:15 +0000 UTC'>(updated September 21, 2025)</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1396 words&nbsp;·&nbsp;Kristian Alexander P</div></header><div class=post-content><h2 id=magit>Magit<a hidden class=anchor aria-hidden=true href=#magit>#</a></h2><p>Magit is a complete text-based user interface to <a href=https://git-scm.com/>Git</a>. It fills the glaring gap between the Git command-line interface and various GUIs, letting you perform trivial as well as elaborate version control tasks with just a couple of mnemonic key presses. Magit looks like a prettified version of what you get after running a few Git commands but in Magit every bit of visible information is also actionable to an extent that goes far beyond what any Git GUI provides and it takes care of automatically refreshing this output when it becomes outdated. In the background Magit just runs Git commands and if you wish you can see what exactly is being run, making it possible for you to learn the git command-line by using Magit<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>Actually, Emacs already has a built-in version control package (aptly named <code>vc</code>). But to me the UI is rather cryptic. I&rsquo;ve used <code>magit</code> since forever, and old habit die hard.</p><figure><a href=/ox-hugo/emacs-magit-status.png><img loading=lazy src=/ox-hugo/emacs-magit-status.png alt="Figure 1: Emacs magit status"></a><figcaption><p><span class=figure-number>Figure 1: </span>Emacs magit status</p></figcaption></figure><h3 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h3><h4 id=use-package><code>use-package</code><a hidden class=anchor aria-hidden=true href=#use-package>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>magit</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span>
</span></span><span class=line><span class=cl>  <span class=nb>:demand</span> <span class=no>t</span>
</span></span><span class=line><span class=cl>  <span class=nb>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>evil-set-initial-state</span> <span class=nf>#&#39;</span><span class=nv>git-commit-mode</span> <span class=ss>&#39;insert</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>with-eval-after-load</span> <span class=ss>&#39;general</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>+config/leader-go</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;g&#34;</span> <span class=ss>&#39;magit-status</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nb>:custom</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>magit-revision-show-gravatars</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;^Author:     &#34;</span> <span class=o>.</span> <span class=s>&#34;^Commit:     &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>magit-diff-refine-hunk</span> <span class=ss>&#39;all</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>magit-log-arguments</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;-n100&#34;</span> <span class=s>&#34;--graph&#34;</span> <span class=s>&#34;--decorate&#34;</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 1:</span>
magit suggested installation</div><p>Notes:</p><ul><li><code>magit-revision-show-gravatars</code> will enable <em>gravatars</em> when viewing commits. The service used by default is <a href=https://www.libravatar.org/>Libgravatar</a>.</li></ul><h3 id=extensions>extensions<a hidden class=anchor aria-hidden=true href=#extensions>#</a></h3><p>There are lots of extensions for <em>magit</em> which adds more features or functionalities. These are the ones I use:</p><h4 id=git-link>git-link<a hidden class=anchor aria-hidden=true href=#git-link>#</a></h4><p>Interactive Emacs functions that create URLs for files and commits in GitHub/Bitbucket/GitLab/&mldr; repositories<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>git-link</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span>
</span></span><span class=line><span class=cl>  <span class=nb>:commands</span> <span class=p>(</span><span class=nv>git-link</span> <span class=nv>git-link-commit</span> <span class=nv>git-link-homepage</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>with-eval-after-load</span> <span class=ss>&#39;general</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>+config/leader-go</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;G&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nb>:ignore</span> <span class=no>t</span> <span class=nb>:wk</span> <span class=s>&#34;git&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;Gl&#34;</span> <span class=ss>&#39;git-link</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;Gh&#34;</span> <span class=ss>&#39;git-link-homepage</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;Gc&#34;</span> <span class=ss>&#39;git-link-commit</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 2:</span>
my git-link setup</div><p>Notes:</p><ul><li><p>git-link returns the URL for the current buffer&rsquo;s file location at the current line number or active region.</p></li><li><p>git-link-commit returns the URL for the commit at point.</p></li><li><p>git-link-homepage returns the URL for the repository&rsquo;s homepage.</p><p>All the URLs are added to the kill ring automatically.</p></li></ul><h4 id=git-messenger>git-messenger<a hidden class=anchor aria-hidden=true href=#git-messenger>#</a></h4><p><code>git-messenger.el</code> is Emacs port of <a href=https://github.com/rhysd/git-messenger.vim>git-messenger.vim</a><sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>.</p><p><code>git-messenger.el</code> provides function that popup commit message at current line. This is useful when you want to know why this line was changed.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>git-messenger</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span>
</span></span><span class=line><span class=cl>  <span class=nb>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>with-eval-after-load</span> <span class=ss>&#39;general</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>+config/leader-go</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;Gm&#34;</span> <span class=ss>&#39;git-messenger:popup-message</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nb>:custom</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; Enable magit-show-commit instead of pop-to-buffer</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>git-messenger:use-magit-popup</span> <span class=no>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>git-messenger:show-detail</span> <span class=no>t</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 3:</span>
my git-messenger setup</div><figure><img loading=lazy src=https://github.com/emacsorphanage/git-messenger/raw/master/image/git-messenger.png alt="Figure 2: image from the github README"><figcaption><p><span class=figure-number>Figure 2: </span>image from the github README</p></figcaption></figure><ul><li><p>git-timemachine</p><p>Walk through git revisions of a file<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>git-timemachine</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span>
</span></span><span class=line><span class=cl>  <span class=nb>:after</span> <span class=nv>magit</span>
</span></span><span class=line><span class=cl>  <span class=nb>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>with-eval-after-load</span> <span class=ss>&#39;general</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>+config/leader-go</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;Gt&#34;</span> <span class=ss>&#39;git-timemachine-toggle</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 4:</span>
My git-timemachine configuration</div><figure><img loading=lazy src=https://github.com/emacsmirror/git-timemachine/blob/master/timemachine.gif></figure></li></ul><ul><li><p>magit-todos</p><p>This package displays keyword entries from source code comments and Org files in the Magit status buffer. Activating an item jumps to it in its file. By default, it uses keywords from <a href=https://github.com/tarsius/hl-todo>hl-todo</a>, minus a few (like NOTE).</p></li></ul><h2 id=projectile>Projectile<a hidden class=anchor aria-hidden=true href=#projectile>#</a></h2><p>Projectile is a project interaction library for Emacs. Its goal is to provide a nice set of features operating on a project level without introducing external dependencies (when feasible). For instance - finding project files has a portable implementation written in pure Emacs Lisp without the use of GNU <code>find</code> (but for performance sake an indexing mechanism backed by external commands exists as well).</p><h3 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>projectile</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span> <span class=no>t</span>
</span></span><span class=line><span class=cl>  <span class=nb>:init</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-mode</span> <span class=mi>+1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:bind</span> <span class=p>(</span><span class=nb>:map</span> <span class=nv>projectile-mode-map</span>
</span></span><span class=line><span class=cl>              <span class=p>(</span><span class=s>&#34;s-p&#34;</span> <span class=o>.</span> <span class=nv>projectile-command-map</span><span class=p>)</span>
</span></span><span class=line><span class=cl>              <span class=p>(</span><span class=s>&#34;C-c p&#34;</span> <span class=o>.</span> <span class=nv>projectile-command-map</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 5:</span>
projectile suggested installation</div><p>This is the basic configuration, however, <em>projectile</em> is <a href=https://docs.projectile.mx/projectile/configuration.html>highly configurable</a>. This is how I setup my configuration for <em>projectile</em>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>projectile</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span> <span class=no>t</span>
</span></span><span class=line><span class=cl>  <span class=nb>:demand</span> <span class=no>t</span>
</span></span><span class=line><span class=cl>  <span class=nb>:bind</span> <span class=p>(([</span><span class=nv>remap</span> <span class=nv>evil-jump-to-tag</span><span class=p>]</span> <span class=o>.</span> <span class=nv>projectile-find-tag</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         <span class=p>([</span><span class=nv>remap</span> <span class=nv>find-tag</span><span class=p>]</span> <span class=o>.</span> <span class=nv>projectile-find-tag</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nv>dired-before-readin</span> <span class=o>.</span> <span class=nv>projectile-track-known-projects-find-file-hook</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:custom</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-cache-file</span> <span class=p>(</span><span class=nf>expand-file-name</span> <span class=s>&#34;.projects&#34;</span> <span class=nv>user-emacs-directory</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-auto-discover</span> <span class=no>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-enable-caching</span> <span class=p>(</span><span class=nv>not</span> <span class=nv>noninteractive</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-globally-ignored-files</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;DS_Store&#34;</span> <span class=s>&#34;TAGS&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-globally-ignored-file-suffixes</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;.elc&#34;</span> <span class=s>&#34;.pyc&#34;</span> <span class=s>&#34;.o&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-kill-buffers-filter</span> <span class=ss>&#39;kill-only-files</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-known-projects-file</span> <span class=p>(</span><span class=nf>expand-file-name</span> <span class=s>&#34;.projectile_projects.eld&#34;</span> <span class=nv>user-emacs-directory</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-ignored-projects</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;~/&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-project-root-files-bottom-up</span>
</span></span><span class=line><span class=cl>   <span class=p>(</span><span class=nf>append</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;.projectile&#34;</span> <span class=s>&#34;.project&#34;</span> <span class=s>&#34;.git&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>           <span class=p>(</span><span class=nb>when</span> <span class=p>(</span><span class=nv>executable-find</span> <span class=s>&#34;hg&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>             <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;.hg&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>           <span class=p>(</span><span class=nb>when</span> <span class=p>(</span><span class=nv>executable-find</span> <span class=s>&#34;bzr&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>             <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;.bzr&#34;</span><span class=p>))))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-project-root-files-top-down-recurring</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;Makefile&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>compilation-buffer-name-function</span> <span class=nf>#&#39;</span><span class=nv>projectile-compilation-buffer-name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>compilation-save-buffers-predicate</span> <span class=nf>#&#39;</span><span class=nv>projectile-current-project-buffer-p</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-git-submodule-command</span> <span class=no>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-indexing-method</span> <span class=ss>&#39;hybrid</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>projectile-mode</span> <span class=mi>+1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nf>put</span> <span class=ss>&#39;projectile-git-submodule-command</span> <span class=ss>&#39;initial-value</span> <span class=nv>projectile-git-submodule-command</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>with-eval-after-load</span> <span class=ss>&#39;general</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>+config/leader-key</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;SPC&#34;</span> <span class=ss>&#39;projectile-find-file</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;p&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nb>:keymap</span> <span class=nv>projectile-command-map</span> <span class=nb>:package</span> <span class=nv>projectile</span> <span class=nb>:wk</span> <span class=s>&#34;projectile&#34;</span><span class=p>))))</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 6:</span>
my projectile configuration</div><p>Notes:</p><ul><li>if you use <a href=https://github.com/emacs-dashboard/emacs-dashboard>https://github.com/emacs-dashboard/emacs-dashboard</a>dashboard, <em>projectile</em> will automatically set <code>dashboard-projects-backend</code> to <code>'projectile</code>.</li></ul><h3 id=external-tools>External tools<a hidden class=anchor aria-hidden=true href=#external-tools>#</a></h3><p>Projectile will work without any external dependencies out of the box. However, if you have various tools installed, they will be automatically used when appropriate to improve performance. If you use <em>git</em>, install the system package as well.</p><h4 id=fd><a href=https://github.com/sharkdp/fd>fd</a><a hidden class=anchor aria-hidden=true href=#fd>#</a></h4><p>File searching tool, if available, will be use as an alternative to <code>git ls-files</code>.</p><h4 id=ag-ripgrep><a href=https://github.com/ggreer/the_silver_searcher>ag</a> / <a href=https://github.com/BurntSushi/ripgrep>ripgrep</a><a hidden class=anchor aria-hidden=true href=#ag-ripgrep>#</a></h4><p>To benefit from the projectile-ag and projectile-ripgrep commands to perform file search, it’s recommended to install ag (the_silver_searcher) and/or rg (ripgrep). You should also install the Emacs packages <code>ag</code>, <code>ripgrep</code> or <code>rg</code> if you want to make sure of Projectile’s commands projectile-ag and projectile-ripgrep.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>ripgrep</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span>
</span></span><span class=line><span class=cl>  <span class=nb>:init</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>with-eval-after-load</span> <span class=ss>&#39;evil-collection</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>evil-collection-ripgrep-setup</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 7:</span>
ripgrep package</div><h3 id=useful-commands>Useful commands<a hidden class=anchor aria-hidden=true href=#useful-commands>#</a></h3><ul><li><code>projectile-find-file</code>, bound to <code>SPC p f</code> in my configuration. Find file in current project.</li><li><code>projectile-switch-project</code>, bound to <code>SPC p p</code>, you can also switch to between open projects with <code>SPC p q</code>.</li><li><code>projectile-grep</code>, bound to <code>SPC p s g</code>, search for text/regexp in project.</li><li><code>projectile-replace</code>, bound to <code>SPC p r</code>, replace in project.</li><li><code>projectile-commander</code>, execute any projectile command with a single letter. See the variable <code>projectile-commander-methods</code> to see the list of methods used.</li><li><code>projectile-find-other-file</code>, switch between files with the same name but different extensions (e.g. <code>foo.h</code> to <code>foo.c</code>).</li><li><code>projectile-run-shell-command-in-root</code> and <code>projectile-run-async-shell-comand-in-root</code>, bound to <code>SPC p !</code> and <code>SPC p &</code>, Run a shell command in the root of the project.</li><li>other commands described in the <a href=https://docs.projectile.mx/projectile/usage.html>documentation</a>.</li></ul><h3 id=packages-that-interacts-with-projectile>Packages that interacts with <em>projectile</em><a hidden class=anchor aria-hidden=true href=#packages-that-interacts-with-projectile>#</a></h3><ul><li><a href=https://elpa.gnu.org/packages/counsel.html>counsel</a></li><li><a href=https://github.com/emacs-helm/helm>helm</a></li><li><a href=https://github.com/nex3/perspective-el>perspective</a></li><li><a href=https://orgmode.org/>org-mode</a></li><li><a href=https://github.com/Alexander-Miller/treemacs>treemacs</a></li><li><a href=https://www.emacswiki.org/emacs/SpeedBar>speedbar</a></li><li><a href=https://github.com/jaypei/emacs-neotree>neotree</a></li><li><a href=https://github.com/emacs-lsp/lsp-mode>lsp-mode</a></li></ul><h2 id=diff-hl>diff-hl<a hidden class=anchor aria-hidden=true href=#diff-hl>#</a></h2><p><code>diff-hl-mode</code> highlights uncommitted changes on the left side of the window (area also known as the &ldquo;gutter&rdquo;), allows you to jump between and revert them selectively<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>diff-hl</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nv>find-file</span> <span class=o>.</span> <span class=nv>diff-hl-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nv>vc-dir-mode</span> <span class=o>.</span> <span class=nv>diff-hl-dir-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nv>dired-mode</span> <span class=o>.</span> <span class=nv>diff-hl-dired-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nv>diff-hl-mode</span> <span class=o>.</span> <span class=nv>diff-hl-show-hunk-mouse-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nv>diff-hl-mode</span> <span class=o>.</span> <span class=nv>diff-hl-flydiff-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nv>magit-pre-refresh-hook</span> <span class=o>.</span> <span class=nv>diff-hl-magit-pre-refresh</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nv>magit-post-refresh-hook</span> <span class=o>.</span> <span class=nv>diff-hl-magit-post-refresh</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:init</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>global-diff-hl-mode</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:custom</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>vc-git-diff-switches</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;--histogram&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=nv>diff-hl-flydiff-delay</span> <span class=mf>0.5</span>
</span></span><span class=line><span class=cl>                        <span class=nv>diff-hl-show-staged-changes</span> <span class=no>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nb>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>when</span> <span class=p>(</span><span class=nb>featurep</span> <span class=ss>&#39;flycheck</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nb>setq</span> <span class=nv>flycheck-indication-mode</span> <span class=ss>&#39;right-fringe</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 8:</span>
my diff-hl setup</div><h2 id=perspective>Perspective<a hidden class=anchor aria-hidden=true href=#perspective>#</a></h2><p>The Perspective package provides multiple named workspaces (or &ldquo;perspectives&rdquo;) in Emacs, similar to multiple desktops in window managers like Awesome and XMonad, and Spaces on the Mac. Each perspective has its own buffer list and its own window layout, along with some other isolated niceties, like the <a href=https://www.gnu.org/software/emacs/manual/html_node/emacs/Xref.html>xref</a> ring. This makes it easy to work on many separate projects without getting lost in all the buffers. Switching to a perspective activates its window configuration, and when in a perspective, only its buffers are available (by default). Each Emacs frame has a distinct list of perspectives<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-emacs-lisp data-lang=emacs-lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>perspective</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span>
</span></span><span class=line><span class=cl>  <span class=nb>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>setq</span> <span class=nv>persp-initial-frame-name</span> <span class=s>&#34;Main&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nv>persp-suppress-no-prefix-key-warning</span> <span class=no>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>if</span> <span class=p>(</span><span class=nb>featurep</span> <span class=ss>&#39;no-littering</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=nb>setq</span> <span class=nv>persp-state-default-file</span> <span class=p>(</span><span class=nf>expand-file-name</span> <span class=s>&#34;.perspective-state&#34;</span> <span class=nv>no-littering-var-directory</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nb>setq</span> <span class=nv>persp-state-default-file</span> <span class=p>(</span><span class=nf>expand-file-name</span> <span class=s>&#34;.perspective-state&#34;</span> <span class=nv>user-emacs-directory</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>global-set-key</span> <span class=p>[</span><span class=nv>remap</span> <span class=nv>switch-to-buffer</span><span class=p>]</span> <span class=nf>#&#39;</span><span class=nv>persp-switch-to-buffer*</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>when</span> <span class=p>(</span><span class=nb>featurep</span> <span class=ss>&#39;consult</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nb>require</span> <span class=ss>&#39;consult</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nb>unless</span> <span class=p>(</span><span class=nf>boundp</span> <span class=ss>&#39;persp-consult-source</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=nb>defvar</span> <span class=nv>persp-consult-source</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nf>list</span> <span class=nb>:name</span>     <span class=s>&#34;Perspective&#34;</span>
</span></span><span class=line><span class=cl>              <span class=nb>:narrow</span>   <span class=sc>?s</span>
</span></span><span class=line><span class=cl>              <span class=nb>:category</span> <span class=ss>&#39;buffer</span>
</span></span><span class=line><span class=cl>              <span class=nb>:state</span>    <span class=nf>#&#39;</span><span class=nv>consult--buffer-state</span>
</span></span><span class=line><span class=cl>              <span class=nb>:history</span>  <span class=ss>&#39;buffer-name-history</span>
</span></span><span class=line><span class=cl>              <span class=nb>:default</span>  <span class=no>t</span>
</span></span><span class=line><span class=cl>              <span class=nb>:items</span>
</span></span><span class=line><span class=cl>              <span class=nf>#&#39;</span><span class=p>(</span><span class=nb>lambda</span> <span class=p>()</span> <span class=p>(</span><span class=nv>consult--buffer-query</span> <span class=nb>:sort</span> <span class=ss>&#39;visibility</span>
</span></span><span class=line><span class=cl>                                                  <span class=nb>:predicate</span> <span class=o>&#39;</span><span class=p>(</span><span class=nb>lambda</span> <span class=p>(</span><span class=nv>buf</span><span class=p>)</span> <span class=p>(</span><span class=nv>persp-is-current-buffer</span> <span class=nv>buf</span> <span class=no>t</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                                                  <span class=nb>:as</span> <span class=nf>#&#39;buffer-name</span><span class=p>)))))</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>consult-customize</span> <span class=nv>consult--source-buffer</span> <span class=nb>:hidden</span> <span class=no>t</span> <span class=nb>:default</span> <span class=no>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>add-to-list</span> <span class=ss>&#39;consult-buffer-sources</span> <span class=nv>persp-consult-source</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>with-eval-after-load</span> <span class=ss>&#39;general</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>general-def</span>
</span></span><span class=line><span class=cl>      <span class=nb>:keymaps</span> <span class=ss>&#39;perspective-map</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;P&#34;</span> <span class=ss>&#39;projectile-persp-switch-project</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>+config/leader-key</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;TAB&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nb>:keymap</span> <span class=nv>perspective-map</span>
</span></span><span class=line><span class=cl>                      <span class=nb>:package</span> <span class=nv>perspective</span>
</span></span><span class=line><span class=cl>                      <span class=nb>:which-key</span> <span class=s>&#34;perspective&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;TAB TAB&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>persp-switch-last</span> <span class=nb>:wk</span> <span class=s>&#34;switch to last perspective&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;C-x&#34;</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>persp-switch-to-scratch-buffer</span> <span class=nb>:wk</span> <span class=s>&#34;switch to scratch buffer&#34;</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>  <span class=nb>:init</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>customize-set-variable</span> <span class=ss>&#39;persp-mode-prefix-key</span> <span class=p>(</span><span class=nv>kbd</span> <span class=s>&#34;C-c TAB&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>unless</span> <span class=p>(</span><span class=nf>equal</span> <span class=nv>persp-mode</span> <span class=no>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nv>persp-mode</span> <span class=mi>1</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nb>:bind</span> <span class=p>(([</span><span class=nv>remap</span> <span class=nv>switch-to-buffer</span><span class=p>]</span> <span class=o>.</span> <span class=nv>persp-switch-to-buffer*</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         <span class=p>([</span><span class=nv>remap</span> <span class=nf>kill-buffer</span><span class=p>]</span> <span class=o>.</span> <span class=nv>persp-kill-buffer*</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nb>:hook</span> <span class=p>(</span><span class=nf>kill-emacs</span> <span class=o>.</span> <span class=nv>persp-state-save</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>use-package</span> <span class=nv>persp-projectile</span>
</span></span><span class=line><span class=cl>  <span class=nb>:ensure</span> <span class=no>t</span>
</span></span><span class=line><span class=cl>  <span class=nb>:after</span> <span class=nv>perspective</span>
</span></span><span class=line><span class=cl>  <span class=nb>:commands</span> <span class=nv>projectile-persp-switch-project</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=src-block-caption><span class=src-block-number>Code Snippet 9:</span>
my perspective configuration</div><p>Notes:
The <code>persp-consult-source</code> is added to the <code>consult-buffer-sources</code> for the <code>consult-buffer</code> command. The prefix keybinding I use is <code>SPC TAB</code>.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://magit.vc/>https://magit.vc/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://github.com/sshaw/git-link>https://github.com/sshaw/git-link</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://github.com/emacsorphanage/git-messenger>https://github.com/emacsorphanage/git-messenger</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://github.com/emacsmirror/git-timemachine>https://github.com/emacsmirror/git-timemachine</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p><a href=https://github.com/dgutov/diff-hl>https://github.com/dgutov/diff-hl</a>&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p><a href=https://github.com/nex3/perspective-el>https://github.com/nex3/perspective-el</a>&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://alexforsale.github.io/tags/emacs/>Emacs</a></li><li><a href=https://alexforsale.github.io/tags/configuration/>Configuration</a></li><li><a href=https://alexforsale.github.io/tags/git/>Git</a></li><li><a href=https://alexforsale.github.io/tags/magit/>Magit</a></li><li><a href=https://alexforsale.github.io/tags/projectile/>Projectile</a></li></ul><nav class=paginav><a class=prev href=https://alexforsale.github.io/posts/hugo-blogging-org-capture-templates/><span class=title>« Prev</span><br><span>Hugo blog org-capture-templates</span>
</a><a class=next href=https://alexforsale.github.io/posts/emacs-shell/><span class=title>Next »</span><br><span>Emacs shell</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://alexforsale.github.io/>alexforsale.github.io</a></span>
<span><a href=https://github.com/alexforsale/alexforsale.github.io/ rel="noopener noreferrer" target=_blank>source</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>